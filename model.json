{
    "dimensions": [
                   
        {
        	"comment": "This is used as a template for other date dimensions.",
        	
            "name": "date",
            "label": "Date",
            "role": "time",
            "levels": [
                {
                    "name":"year",
                    "label":"Year"
                },
                {
                    "name":"quarter",
                    "label":"Quarter"
                },
                {
                    "name":"month",
                    "label":"Month"
                },
                {
                    "name":"week",
                    "label":"Week"
                }
            ],
            "hierarchies": [
                {
                    "name": "weekly",
                    "label": "Weekly",
                    "levels": [ "week" ]
                },
                {
                    "name": "monthly",
                    "label": "Monthly",
                    "levels": [ "year", "quarter", "month"]
                }
            ],
            "default_hierarchy_name": "monthly"
        },
        
        {
            "name": "date_sale",
            "label": "Sale Date",
            "template": "date"
        },
        
        {
            "name": "date_visit",
            "label": "View Date",
            "template": "date"
        },        
        
        {
            "name": "customer",
            "label": "Customer"			,
            "levels": [ {
                "name": "customer",
                "label": "Customer",
                "attributes": [ "id", "name" ],
                "label_attribute": "name"
            } ]
        },
        
        {
            "name": "product",
            "label": "Product",
            "levels": [
                {
                    "name":"category",
                    "label":"Category",
                    "attributes": [ "category_id", "category_label" ],
                    "key": "category_id",
                    "label_attribute": "category_label"
                },
                {
                    "name":"product",
                    "label":"Product",
                    "attributes": [ "product_id", "product_label" ],
                    "key": "product_id",
                    "label_attribute": "product_label"
                }
            ]
        },
        
        {
            "name": "country",
            "label": "Country",
            "levels": [
                {
                    "name":"region",
                    "label":"Region",
                    "attributes": [ "region_id", "region_label" ],
                    "key": "region_id",
                    "label_attribute": "region_label"
                },
                {
                    "name":"country",
                    "label":"Country",
                    "attributes": [ "country_id", "country_label" ],
                    "key": "country_id",
                    "label_attribute": "country_label"
                }
            ]
        },
        
        {
            "name": "source",
            "label": "Source",
            "levels": [ {
                "name": "source",
                "label": "Source",
                "attributes": [ "source_id", "source_label" ],
                "label_attribute": "source_label"
            } ]
        },
        
        {
            "name": "browser",
            "label": "Browser"
        },
        
        {
            "name": "newsletter",
            "label": "Newsletter"
        }

    ],

    "cubes": [

        {
            "name": "sales",
            "label": "Webshop Sales",
            "category": "Demonstration Data",
            "dimensions": ["date_sale", "customer", "product", "country" ],
            "measures": [
		        {"name": "quantity", "aggregates": ["sum", "avg", "max"] },
		        {"name": "price_total", "aggregates": ["sum", "avg", "max", "min"] }
            ],
            
            "joins": [
                  {
                      "master": "sales.date_id",
                      "detail": "date.id",
                      "alias": "date_sale"
                  },
                  {
                      "master": "sales.customer_id",
                      "detail": "customer.id"
                  },
                  {
                      "master": "sales.product_id",
                      "detail": "product.id"
                  },
                  {
                      "master": "sales.country_id",
                      "detail": "country.id"
                  }
            ],            
            
            "mappings": {
                "country.region_id": "country.continent_id",
                "country.region_label": "country.continent_label"
            }
        },
        
        {
            "name": "webvisits",
            "label": "Website Visits",
            "category": "Demonstration Data",
            "dimensions": ["date_visit", "country", "source", "newsletter", "browser" ],
            "measures": [
		        {"name": "pageviews", "aggregates": ["sum", "avg", "max"] }
            ],
            
            "joins": [
                  {
                      "master": "webvisits.date_id",
                      "detail": "date.id",
                      "alias": "date_visit"
                  },
                  {
                      "master": "webvisits.country_id",
                      "detail": "country.id"
                  }
            ],            
            
            "mappings": {
                "country.region_id": "country.continent_id",
                "country.region_label": "country.continent_label",
                "source.source_id": "source_id",
                "source.source_label": "source_label"
                    
            }
        }
        
    ]
}
